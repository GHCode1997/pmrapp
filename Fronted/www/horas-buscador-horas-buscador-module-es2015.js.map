{"version":3,"sources":["./src/app/components/buscador/buscador.component.html","./src/app/pages/horas-buscador/DialogConfirmation/dialog-confirmation.component.html","./src/app/pages/horas-buscador/horas-buscador.page.html","./src/app/components/buscador/buscador.component.scss","./src/app/components/buscador/buscador.component.ts","./src/app/pages/horas-buscador/DialogConfirmation/dialog-confirmation.component.ts","./src/app/pages/horas-buscador/horas-buscador-routing.module.ts","./src/app/pages/horas-buscador/horas-buscador.module.ts","./src/app/pages/horas-buscador/horas-buscador.page.scss","./src/app/pages/horas-buscador/horas-buscador.page.ts"],"names":[],"mappings":"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","file":"horas-buscador-horas-buscador-module-es2015.js","sourcesContent":["module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-md-10 col-10\\\">\\r\\n    <mat-form-field>\\r\\n      <mat-label >Seleccionar especialidades</mat-label>\\r\\n      <mat-select #select multiple >\\r\\n        <mat-select-trigger *ngIf=\\\"select.selected.length > 1\\\">\\r\\n          {{select.selected[0].value ? select.selected[0].value.nombre : ''}}\\r\\n          <span *ngIf=\\\"select.selected?.length > 1\\\" class=\\\"example-additional-selection\\\">\\r\\n            (+{{select.selected.length - 1}} {{select.selected?.length === 2 ? 'otra' : 'otras'}})\\r\\n          </span>\\r\\n        </mat-select-trigger>\\r\\n        <mat-option *ngFor=\\\"let especialidad of especialidades\\\" [value]=\\\"especialidad\\\">\\r\\n          {{especialidad.nombre}}\\r\\n        </mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n  <div class=\\\"col-md-2 col-2 pl-0\\\">\\r\\n    <button mat-icon-button color=\\\"primary\\\" aria-label=\\\"Example icon-button with a heart icon\\\" (click)=\\\"buscarHoras(select.selected)\\\">\\r\\n      <mat-icon>search</mat-icon>\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\"","module.exports = \"<mat-form-field>\\r\\n    <mat-label>Optional</mat-label>\\r\\n    <textarea [(ngModel)]=\\\"comment\\\" matInput placeholder=\\\"Ingrese motivo de consulta\\\"></textarea>\\r\\n</mat-form-field>\\r\\n<div mat-dialog-actions>\\r\\n    <button mat-button color=\\\"primary\\\" (click)=\\\"onSubmit()\\\">Confirmar</button>\\r\\n    <button mat-button color=\\\"danger\\\"  (click)=\\\"onNoClick()\\\">Cancelar</button>\\r\\n</div>\\r\\n\"","module.exports = \"<div *ngIf=\\\"buscando\\\">\\r\\n  <mat-spinner ></mat-spinner>\\r\\n</div>\\r\\n<div *ngIf=\\\"!buscando && dataSource.data.length == 0\\\" >\\r\\n<h1>No hay horas medicas </h1>\\r\\n</div>\\r\\n<div *ngIf=\\\"!buscando && dataSource.data.length > 0\\\"  class=\\\"row justify-content-md-center\\\" >\\r\\n  <table    mat-table [dataSource]=\\\"dataSource\\\">\\r\\n\\r\\n    <!-- Name Column -->\\r\\n    <ng-container matColumnDef=\\\"hora\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef> Hora </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.horaConsulta}} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Weight Column -->\\r\\n    <ng-container matColumnDef=\\\"fecha\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef> Fecha </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.fechaConsulta}} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Symbol Column -->\\r\\n    <ng-container matColumnDef=\\\"medico\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef> Medico </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\"> Dr. {{element.profesional.nombres }} {{ element.profesional.apellidos}} </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container matColumnDef=\\\"seleccionar\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef>  </th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\"> \\r\\n        <button mat-raised-button (click)=\\\"asignarHora(element)\\\" color=\\\"primary\\\" >Seleccionar</button>   \\r\\n      </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\r\\n  </table>\\r\\n</div>\\r\\n<mat-paginator class=\\\"paginator\\\" [pageSizeOptions]=\\\"[5, 10, 20]\\\" showFirstLastButtons></mat-paginator>\"","module.exports = \".example-additional-selection {\\n  opacity: 0.75;\\n  font-size: 0.75em;\\n}\\n\\n.pl-0,\\n.px-0 {\\n  padding-left: 0 !important;\\n  padding-right: 0 !important;\\n  padding-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9idXNjYWRvci9DOlxcVXNlcnNcXEd1c3Rhdm8gSHVlcnRhXFxEb2N1bWVudHNcXHByb3llY3RzXFxwbXJhcHBcXEZyb250ZWQvc3JjXFxhcHBcXGNvbXBvbmVudHNcXGJ1c2NhZG9yXFxidXNjYWRvci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9idXNjYWRvci9idXNjYWRvci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxpQkFBQTtBQ0NKOztBRENFOztFQUVBLDBCQUFBO0VBQ0EsMkJBQUE7RUFDQSxpQkFBQTtBQ0VGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9idXNjYWRvci9idXNjYWRvci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5leGFtcGxlLWFkZGl0aW9uYWwtc2VsZWN0aW9uIHtcclxuICAgIG9wYWNpdHk6IDAuNzU7XHJcbiAgICBmb250LXNpemU6IDAuNzVlbTtcclxuICB9XHJcbiAgLnBsLTAsXHJcbi5weC0wIHtcclxuICBwYWRkaW5nLWxlZnQ6IDAgIWltcG9ydGFudDtcclxuICBwYWRkaW5nLXJpZ2h0OiAwICFpbXBvcnRhbnQ7XHJcbiAgcGFkZGluZy10b3A6IDEwcHg7XHJcbn0iLCIuZXhhbXBsZS1hZGRpdGlvbmFsLXNlbGVjdGlvbiB7XG4gIG9wYWNpdHk6IDAuNzU7XG4gIGZvbnQtc2l6ZTogMC43NWVtO1xufVxuXG4ucGwtMCxcbi5weC0wIHtcbiAgcGFkZGluZy1sZWZ0OiAwICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDAgIWltcG9ydGFudDtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG59Il19 */\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { HoraEspecialista } from '../../models/horaespecialista';\r\nimport { HorasService } from 'src/app/services/horas.service';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Especialidad } from 'src/app/models/especialidad';\r\nimport { FormControl } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-buscador',\r\n  templateUrl: './buscador.component.html',\r\n  styleUrls: ['./buscador.component.scss'],\r\n})\r\nexport class BuscadorComponent implements OnInit {\r\n\r\n  @Output() result = new EventEmitter<HoraEspecialista[]>();\r\n\r\n  @Output() search = new EventEmitter<string>();\r\n\r\n  especialidades = [] as Especialidad[];\r\n\r\n  horasFounds = [] as HoraEspecialista[];\r\n\r\n  constructor(private horaService: HorasService, private loadingController: LoadingController) { }\r\n\r\n  ngOnInit() {\r\n    this.horaService.getEspecialidades().subscribe(result => {\r\n      this.especialidades = result._embedded.especialidad;\r\n    }, error => {\r\n      console.error(error);\r\n    });\r\n  }\r\n\r\n  async buscarHoras(search: any) {\r\n    this.horasFounds = [];\r\n    const loading = await this.loadingController.create({\r\n      message: 'Please wait...',\r\n      translucent: true,\r\n      mode: 'md',\r\n    });\r\n    await loading.present();\r\n    if (search.length > 0) {\r\n      for (let i = 0; i < search.length ; i++) {\r\n          this.horaService.getHorasEspecilistas(search[i].value.nombre).pipe(finalize(() => loading.dismiss()))\r\n            .subscribe(result => {\r\n              if (result) {\r\n                \r\n                this.horasFounds = this.horasFounds.concat(result);\r\n                console.log(this.horasFounds)\r\n              }\r\n            }, error => {\r\n              loading.dismiss();\r\n            })\r\n            \r\n      } \r\n    }\r\n    setTimeout(() => {\r\n      this.horasFounds = this.horasFounds.filter(hora => hora.asignada === false);\r\n      this.result.emit(this.horasFounds);\r\n    }, 1000)\r\n  }\r\n\r\n}\r\n","import { Component, Inject, ViewChild, Input } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef, MatSpinner, MatDialog } from '@angular/material';\r\nimport { HoraEspecialista } from 'src/app/models/horaespecialista';\r\nimport { HorasService } from 'src/app/services/horas.service';\r\n\r\n@Component({\r\n    selector: 'dialog-confirmation',\r\n    templateUrl: 'dialog-confirmation.component.html'\r\n})\r\nexport class DialogConfirmationComponent {\r\n    public comment: string = '';\r\n    constructor(\r\n        public dialogRef: MatDialogRef<DialogConfirmationComponent>,\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        private horaService: HorasService\r\n        ) {\r\n\r\n    }\r\n\r\n    onSubmit() {\r\n    \r\n      this.data.hora.observacion = this.comment;\r\n      console.log(this.comment)\r\n      console.log(this.data)\r\n      this.horaService.asignarHoratoPaciente(this.data.hora,localStorage.getItem('user_rut'))\r\n      .subscribe(result=> {\r\n          this.dialogRef.close({update: true});\r\n      })\r\n    }\r\n\r\n    onNoClick(): void {\r\n        this.dialogRef.close({update: false});\r\n      }\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { HorasBuscadorPage } from './horas-buscador.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HorasBuscadorPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HorasBuscadorPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { HorasBuscadorPageRoutingModule } from './horas-buscador-routing.module';\r\n\r\nimport { HorasBuscadorPage } from './horas-buscador.page';\r\nimport { BuscadorComponent } from '../../components/buscador/buscador.component';\r\nimport { AngularMaterialModule } from 'src/app/angularmaterial.module';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { DialogConfirmationComponent } from './DialogConfirmation/dialog-confirmation.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HorasBuscadorPageRoutingModule,\r\n    AngularMaterialModule,\r\n    IonicStorageModule.forRoot()\r\n  ],\r\n  declarations: [\r\n    HorasBuscadorPage, \r\n    BuscadorComponent, \r\n    DialogConfirmationComponent\r\n  ], \r\n  entryComponents: [\r\n    BuscadorComponent,\r\n    DialogConfirmationComponent,\r\n  ]\r\n})\r\nexport class HorasBuscadorPageModule {}\r\n","module.exports = \"app-buscador.row {\\n  height: 0;\\n}\\n\\ntable {\\n  width: 80%;\\n}\\n\\n.paginator {\\n  width: 82%;\\n  margin-left: 9%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaG9yYXMtYnVzY2Fkb3IvQzpcXFVzZXJzXFxHdXN0YXZvIEh1ZXJ0YVxcRG9jdW1lbnRzXFxwcm95ZWN0c1xccG1yYXBwXFxGcm9udGVkL3NyY1xcYXBwXFxwYWdlc1xcaG9yYXMtYnVzY2Fkb3JcXGhvcmFzLWJ1c2NhZG9yLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvaG9yYXMtYnVzY2Fkb3IvaG9yYXMtYnVzY2Fkb3IucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksU0FBQTtBQ0NKOztBRENBO0VBQ0ksVUFBQTtBQ0VKOztBRENBO0VBQ0ksVUFBQTtFQUNBLGVBQUE7QUNFSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2hvcmFzLWJ1c2NhZG9yL2hvcmFzLWJ1c2NhZG9yLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1idXNjYWRvci5yb3cge1xyXG4gICAgaGVpZ2h0OiAwO1xyXG4gICB9XHJcbnRhYmxlIHtcclxuICAgIHdpZHRoOiA4MCU7XHJcbn1cclxuXHJcbi5wYWdpbmF0b3Ige1xyXG4gICAgd2lkdGg6IDgyJTtcclxuICAgIG1hcmdpbi1sZWZ0OiA5JTtcclxufSIsImFwcC1idXNjYWRvci5yb3cge1xuICBoZWlnaHQ6IDA7XG59XG5cbnRhYmxlIHtcbiAgd2lkdGg6IDgwJTtcbn1cblxuLnBhZ2luYXRvciB7XG4gIHdpZHRoOiA4MiU7XG4gIG1hcmdpbi1sZWZ0OiA5JTtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { HoraEspecialista } from 'src/app/models/horaespecialista';\r\nimport { MatPaginator, MatTableDataSource, MatPaginatorIntl, MatDialog } from '@angular/material';\r\nimport { Storage } from '@ionic/storage';\r\nimport { PacienteService } from 'src/app/services/paciente.service';\r\nimport { Paciente } from 'src/app/models/paciente';\r\nimport { HorasService } from 'src/app/services/horas.service';\r\nimport { DialogConfirmationComponent } from './DialogConfirmation/dialog-confirmation.component';\r\nimport { finalize, filter } from 'rxjs/operators';\r\n@Component({\r\n  selector: 'app-horas-buscador',\r\n  templateUrl: './horas-buscador.page.html',\r\n  styleUrls: ['./horas-buscador.page.scss'],\r\n})\r\nexport class HorasBuscadorPage implements OnInit, AfterViewInit {\r\n  displayedColumns: string[] = ['hora', 'fecha', 'medico', 'seleccionar'];\r\n  dataSource: MatTableDataSource<HoraEspecialista> = new MatTableDataSource<HoraEspecialista>();\r\n  public buscando: boolean = false;\r\n\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator ;\r\n\r\n  constructor(\r\n    private storage: Storage, \r\n    private pacienteService: PacienteService, \r\n    private horaService: HorasService,\r\n    private dialog: MatDialog) {}\r\n\r\n  ngOnInit() {\r\n    this.buscando = true;\r\n    this.horaService.getHorasEspecilistas('medico general')\r\n    .pipe( finalize(()=> {this.buscando = false }))\r\n    .subscribe(data=> {\r\n      this.dataSource = new MatTableDataSource<HoraEspecialista>(data);\r\n      this.dataSource.paginator = this.paginator;\r\n    }, error=> {\r\n\r\n    })\r\n      this.dataSource.paginator = this.paginator;\r\n  }\r\n  ngAfterViewInit(){\r\n    \r\n  }\r\n\r\n  resultado(result: HoraEspecialista[]) {\r\n    this.dataSource = null;\r\n      this.buscando = true;\r\n      this.dataSource = new MatTableDataSource<HoraEspecialista>(result);\r\n\r\n    this.ngOnInit();\r\n  }\r\n\r\n  asignarHora(element) {\r\n    const dialogElem = this.dialog.open(DialogConfirmationComponent, {\r\n      data: {\r\n        hora: element\r\n      }\r\n    })\r\n    dialogElem.afterClosed().subscribe(result => {\r\n      if(result.update) {\r\n        this.ngOnInit();\r\n      }\r\n    })\r\n  }\r\n}\r\n"],"sourceRoot":""}